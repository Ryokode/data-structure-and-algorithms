## 队列

### 一、队列的基本概念

- #### 队列的定义

  队列（Queue）是==只允许在一端进行插入，另一端删除==的线性表

  特点：先进入队列的元素先出队

  重要术语：队头、队尾、空队列

  ![image-20251126133711183](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126133711183.png)

- #### 队列的基本操作

  ![image-20251126133926304](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126133926304.png)

### 二、队列的顺序实现

- #### 队列的顺序实现

  ```c
  #define MaxSize 10
  typedef struct
  {
      ElemType data[MaxSize];  //用静态数组存放队列元素
      int front,rear;          //队头指针和队尾指针
  }SqQueue;
  
  void testQueue()
  {
      SqQueue Q;      //声明一个队列（顺序存储）
      //...后续操作...
  }
  ```

  ![image-20251126135238124](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126135238124.png)

- #### 初始化操作

  ```c
  #define MaxSize 10
  typedef struct
  {
      ElemType data[MaxSize];  //用静态数组存放队列元素
      int front,rear;          //队头指针和队尾指针
  }SqQueue;
  
  //初始化队列
  void InitQueue(SqQueue &Q)
  {
      //初始时，队头、队尾指针指向0
      Q.rear = Q.front = 0;
  }
  
  //判空
  bool QueueEmpty()
  {
      if(Q.rear == Q.front)  //队空条件
          return true;
      else
          return false;
  }
  
  void testQueue()
  {
      SqQueue Q;      //声明一个队列（顺序存储）
      //...后续操作...
  }
  ```

  ![image-20251126135722168](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126135722168.png)

- #### 入队操作

  ```c
  #define MaxSize 10
  typedef struct
  {
      ElemType data[MaxSize];  //用静态数组存放队列元素
      int front,rear;          //队头指针和队尾指针
  }SqQueue;
  
  //入队
  bool EnQueue(SqQueue &Q,ElemType x)
  {
      if(队满)
          return false;    //队满报错
      Q.data[Q.rear] = x;  //将x插入队尾
      Q.rear = Q.rear + 1; //队尾指针后移
      return true;
  }
  ```

  ![image-20251126140219849](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126140219849.png)

  继续之后

  ![image-20251126140724533](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126140724533.png)

- #### 循环队列

  ![image-20251126140811520](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126140811520.png)

  ![image-20251126140833840](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126140833840.png)

  

  ![image-20251126140926096](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126140926096.png)

  ```c
  //判空
  bool QueueEmpty(SqQueue Q)
  {
      if(Q.rear == Q.front)  //队空条件
          return true;
      else
          return false;
  }
  
  //入队
  bool EnQueue(SqQueue &Q,ElemType x)
  {
      if((Q.rear + 1) % MaxSize == Q.front)
          return false;                  //队满报错
      Q.data[Q.rear] = x;                //新元素插入队尾
      Q.rear = (Q.rear + 1) % MaxSize;   //队尾指针加1取模
      return true;
  }
  ```

  ![image-20251126141019010](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126141019010.png)

- #### 出队操作

  ```c
  //出队（删除一个队头元素，并用x返回）
  bool DeQueue(SqQueue &Q,ElemType &x)
  {
      if(Q.rear == Q.front)
          return false;        //队空报错
      x = Q.data[Q.front];
      Q.front = (Q.front + 1) % MaxSize;
      return true;
  }
  ```

  ![image-20251126142003993](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142003993.png)

  ![image-20251126142026320](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142026320.png)

  ![image-20251126142054317](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142054317.png)

  ```c
  //获取队头元素的值，用x返回
  bool GetHead(SqQueue Q,ElemType &x)
  {
      if(Q.rear == Q.front)
          return false;
      x = Q.data[Q.front];
      return true;
  }
  ```

- #### 方案一：判断队列已满/已空

  ![image-20251126142515953](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142515953.png)

- #### 方案二：判断队列已满/已空

  ![image-20251126142800070](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142800070.png)

  ![image-20251126142824381](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142824381.png)

  ![image-20251126142922222](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142922222.png)

  ![image-20251126142947778](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126142947778.png)

  ![image-20251126143037189](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143037189.png)

- #### 方案三：判断队列已满/已空

  ![image-20251126143207214](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143207214.png)

  ![image-20251126143237720](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143237720.png)

  ![image-20251126143305700](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143305700.png)

  ![image-20251126143351612](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143351612.png)

- #### 其他出题方法

  ![image-20251126143532235](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143532235.png)

  ![image-20251126143603123](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143603123.png)

  ![image-20251126143644078](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143644078.png)

  ![image-20251126143733229](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143733229.png)

  ![image-20251126143823965](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143823965.png)

  ![image-20251126143854314](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126143854314.png)

### 三、队列的链式实现

- #### 队列的链式实现

  ```c
  typedef struct LinkNode    //链式队列结点
  {
  	ElemType data;
      struct LinkNode *next;
  }LinkNode;
  
  typedef struct             //链式队列
  { 
      LinkNode *front,*rear; //队列的队头和队尾指针
  }LinkQueue;
  ```

  ![image-20251126145123062](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126145123062.png)

- #### 初始化（带头结点）

  ```c
  typedef struct LinkNode    //链式队列结点
  {
  	ElemType data;
      struct LinkNode *next;
  }LinkNode;
  
  typedef struct             //链式队列
  { 
      LinkNode *front,*rear; //队列的队头和队尾指针
  }LinkQueue;
  
  //初始化队列（带头结点）
  void InitQueue(LinkQueue &Q)
  {
      //初始时front、rear都指向头结点
      Q.front = Q.rear = (LinkNode *)malloc(sizeof(LinkNode));
      Q.front->next = NULL;
  }
  
  //判空
  bool IsEmpty(LinkQueue Q)
  {
      if(Q.front == Q.rear)
          return true;
      else
          return false;
  }
  
  void testQueue()
  {
      LinkQueue Q;     //声明一个队列
      InitQueue(Q);    //初始化队列
      //...后续操作...
  }
  ```

- #### 初始化（不带头结点）

  ```c
  //初始化队列（不到头结点）
  void InitQueue(LinkQueue &Q)
  {
      //初始时front、rear都指向NULL
      Q.front = NULL;
      Q.rear = NULL;
  }
  
  //判空
  bool IsEmpty(LinkQueue Q)
  {
      if(Q.front == NULL)
          return true;
      else
          return false;
  }
  ```

- #### 入队（带头结点）

  ```c
  //新元素入队（带头结点）
  void EnQueue(LinkQueue &Q,ElemType x)
  {
      LinkNode *s = (LinkNode *)malloc(sizeof(LinkNode));
      s->data = x;
      s->next = NULL;
      Q.rear->next = s;    //新结点插入到rear之后
      Q.rear = s;          //修改表尾指针
  }
  ```

  ![image-20251126150252628](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126150252628.png)

  ![image-20251126150306547](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126150306547.png)

  ![image-20251126150354937](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126150354937.png)

- #### 入队（不带头结点）

  ```c
  //新元素入队（不带头结点）
  void EnQueue(LinkQueue &Q,ElemType x)
  {
      LinkNode *s = (LinkNode *)malloc(sizeof(LinkNode));
      s->data = x;
      s->next = NULL;
      if(Q.front == NULL)  //在空队列中插入第一个元素
      {
          Q.front = s;     //修改队头队尾指针
          Q.rear = s;
      }
      else
      {
          Q.rear->next = s; //新结点插入到rear结点之后
          Q.rear = s;       //修改rear指针
      }
  }
  ```

  ![image-20251126150840260](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126150840260.png)

  ![image-20251126150904602](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126150904602.png)

- #### 出队（带头结点）

  ```c
  //队头元素出队（带头结点）
  bool DeQueue(LinkQueue &Q,ElemType &x)
  {
      if(Q.front == Q.rear)
          return false;        //空队
      LinkNode *p = Q.front->next;
      x = p->data;             //用变量x返回队头元素
      Q.front->next = p->next; //修改头结点的next指针
      if(Q.rear == p)          //此次是最后一个结点出队
          Q.rear = Q.front;    //修改rear指针
      free(p);                 //释放结点空间
      return true;
  }
  ```

  ![image-20251126151340487](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126151340487.png)

  ![image-20251126151404370](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126151404370.png)

  ![image-20251126151444122](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126151444122.png)

  ![image-20251126151608956](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126151608956.png)

  ![image-20251126151632017](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126151632017.png)

- #### 出队（不带头结点）

  ```c
  //队头元素出队（不带头结点）
  bool DeQueue(LinkQueue &Q,ElemType &x)
  {
      if(Q.front == NULL)
          return false;      //空队
      LinkNode *p = Q.front; //p指向此次出队的结点
      x = p->data;           //变量x返回队头元素
      Q.front = p->next;     //修改front指针
      if(Q.rear == p)
      {
          Q.front = NULL;    //front指向NULL
          Q.rear = NULL;     //rear指向NULL
      }
      free(p);               //释放结点空间
      return true;
  }
  ```

  ![image-20251126152123140](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126152123140.png)

  ![image-20251126152201739](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126152201739.png)

- #### 队列满的条件

  ![image-20251126152333018](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126152333018.png)

### 四、双端队列

![image-20251126152802277](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126152802277.png)

![image-20251126152854515](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126152854515.png)

![image-20251126153120049](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126153120049.png)

![image-20251126153144891](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126153144891.png)

![image-20251126153238181](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126153238181.png)

![image-20251126153312555](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251126153312555.png)

### 五、知识总结

![](https://gitee.com/Ryokoi/picgo-typora/raw/master/队列.jpg)