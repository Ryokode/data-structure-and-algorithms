## 串

### 一、串的定义和基本操作

- #### 串的定义

  串，即字符串(String)是由零个或多个字符组成的有限序列。一般记为S = 'a~1~a~2~......a~n~'(n >= 0)；其中，S是串名，单引号括起来的字符序列是串的值；a~i~可以是字母、数字或其他字符；串中字符的个数n称为串的长度；n = 0时的串称为空串（用Φ表示）

  ![image-20251203134124950](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203134124950.png)

- #### 串V.S线性表

  ![image-20251203134400029](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203134400029.png)

- #### 串的基本操作

  ![image-20251203134727259](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203134727259.png)

- #### 串的比较操作

  ![image-20251203134843799](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203134843799.png)

- #### 字符集编码

  ![image-20251203135011235](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203135011235.png)

  ![image-20251203135119553](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203135119553.png)

### 二、串的存储结构

- #### 串的顺序存储

  ```c
  #define MAXLEN 255    //预定义最大串长为255
  typedef struct
  {
      char ch[MAXLEN];  //每个分量存储一个字符
      int length;       //串的实际长度
  }SString;
  
  typedef struct
  {
      char *ch;         //按串长分配存储区，ch指向串的基地址
      int length;       //串的长度
  }HString;
  
  HString S;
  S.ch = (char *)malloc(MAXLEN * sizeof(char));
  S.length = 0;
  ```

  ![image-20251203141126363](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203141126363.png)

  ![image-20251203141516647](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203141516647.png)

- #### 串的链式存储

  ```c
  typedef struct StringNode
  {
      char ch;                //每隔结点存1个字符
      struct StringNode * next;
  }StringNode, * String;
  ```

  ![image-20251203141845313](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203141845313.png)

  ```c
  typedef struct StringNode
  {
      char ch[4];            //每个结点存多个字符
      struct StringNode * next;
  }StringNode, * String;
  ```

  ![image-20251203142040837](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203142040837.png)

- #### 基本操作的实现

  ![image-20251203142624899](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203142624899.png)

  ![image-20251203142816024](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203142816024.png)

  ```c
  #define MAXLEN 255    //预定义最大串长为255
  typedef struct
  {
      char ch[MAXLEN];  //每个分量存储一个字符
      int length;       //串的实际长度
  }SString;
  
  //求子串
  bool SubString(SString &Sub,SString S,int pos,int len)
  {
      //子串范围越界
      if(pos + len - 1 > S.length)
          return false;
      for(int i = pos;i < pos + len;i++)
          Sub.ch[i - pos + 1] = S.ch[i];
      Sub.length = len;
      return true;
  }
  ```

  ![image-20251203143340607](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203143340607.png)

  ```c
  //比较操作。若S > T，则返回值>0；若S = T，则返回值=0；若S < T，则返回值<0
  int StrCompare(SString S,SString T)
  {
      for(int i = 1;i <= S.length && i <= T.length;i++)
      {
          if(S.ch[i] != T.ch[i])
              return S.ch[i] - T.ch[i];
      }
      //扫描过的所有字符都相同，则长度长的串更大
      return S.length - T.length;
  }
  ```

  ![image-20251203144044266](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251203144044266.png)

  ```c
  int Index(SString S,SString T)
  {
      int i = 1,n = StrLength(S),m = StrLength(T);
      SString sub;                //用于暂存子串
      while(i <= n - m + 1)
      {
          SubString(sub,Si,m);
          if(StrCompare(sub,T) != 0)
              ++i;
          else
              return i;           //返回子串在主串中的位置
      }
      return 0;                   //S中不存在与T相等的子串
  }
  ```

### 三、知识总结

![](https://gitee.com/Ryokoi/picgo-typora/raw/master/串.jpg)