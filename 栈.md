## 栈

### 一、栈的基本概念

- #### 栈的定义

  线性表是具有相同数据类型的n（n>=0）个数据元素的有限序列，其中n为表长，当n=0时线性表示一个空表。若用L命名线性表，则其一般表示为

  ​                                                ***L = (a~1~,a~2~,...,a~i~,a~i+1~,...,a~n~)***

  栈（Stack）是==只允许在一端进行插入或删除操作==的线性表

  重要术语：栈顶、栈底、空栈

  ![image-20251125141344821](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125141344821.png)

- #### 栈的基本操作

  ![image-20251125142544274](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125142544274.png)

- #### 栈的常考题型

  ![image-20251125142907414](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125142907414.png)

### 二、栈的顺序存储实现

- #### 顺序栈的定义

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top;                 //栈顶指针
  }SqStack;//Sq:sequence
  
  void testStack()
  {
      SqStack S;      //声明一个顺序栈（分配空间）
      //...后续操作...
  }
  ```

  ![image-20251125144252833](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125144252833.png)

  顺序存储：给各个数据元素分配连续的存储空间，大小为MaxSize*sizeof(ElemType)

  ![image-20251125144524446](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125144524446.png)

- #### 初始化操作

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top;                 //栈顶指针
  }SqStack;//Sq:sequence
  
  void InitStack(SqStack &S)   //初始化栈
  {
      S.top = -1;              //初始化栈顶指针
  }
  
  //判断栈空
  bool StackEmpty(SqStack S)
  {
      if(S.top == -1)    //栈空
          return true;
      else
          return false;  //不空
  }
  
  void testStack()
  {
      SqStack S;      //声明一个顺序栈（分配空间）
      InitStack(S);
      //...后续操作...
  }
  ```

  

  ![image-20251125145109821](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125145109821.png)

- #### 进栈操作

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top;                 //栈顶指针
  }SqStack;
  
  //新元素入栈
  bool Push(SqStack &S,ElemType x)
  {
      if(S.top == MaxSize - 1)  //栈满，报错
          return false;
      
      S.top = S.top + 1;        //指针先加1
      S.data[S.top] = x;        //新元素入栈
      return true;
  }
  /*S.top = S.top + 1;
    S.data[S.top] = x;
    等价于
    S.data[++S.top] = x;*/
  ```

- #### 出栈操作

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top;                 //栈顶指针
  }SqStack;
  
  //出栈操作
  bool Pop(SqStack &S,ElemType &x)
  {
      if(S.top == -1)       //栈空，报错
          return false;
      
      x = S.data[S.top];    //栈顶元素先出栈
      S.top = S.top - 1;    //指针再减1
      return true;
  }
  /*x = S.data[S.top];
    S.top = S.top - 1;
    等价于
    x = S.data[S.top--]*/
  ```

  ![image-20251125150834860](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125150834860.png)

- #### 读栈顶元素操作

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top;                 //栈顶指针
  }SqStack;
  
  //出栈操作
  bool Pop(SqStack &S,ElemType &x)
  {
      if(S.top == -1)       //栈空，报错
          return false;
      
  	x = S.data[S.top--];  //先出栈，指针再减1
      return true;
  }
  
  //读栈顶元素
  bool GetTop(SqStack S,ElemType &x)
  {
      if(S.top == -1)       //栈空，报错
          return false;
      
      x = S.data[S.top];    //x记录栈顶元素
      return true;
  }
  ```

- #### 另一种方式

  ![image-20251125152130354](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125152130354.png)

  栈满条件：top == MaxSize

  顺序栈的缺点：栈的大小不可变

- #### 共享栈

  ```c
  #define MaxSize 10           //定义栈中元素的最大个数
  typedef struct
  {
  	ElemType data[MaxSize];  //静态数组存放栈中元素
      int top0;                //0号栈顶指针
      int top1;                //1号栈顶指针
  }ShStack;
  
  //初始化栈
  void InitStack(ShStack &S)
  {
      S.top0 = -1;
      S.top1 = MaxSize;
  }
  ```

  ![image-20251125152929910](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125152929910.png)

  两个栈共享一片空间

  栈满条件：top0 + 1 == top1

### 三、栈的链式存储实现

- #### 链栈的定义

  ```c
  typedef struct Linknode
  {
  	ElemType data;            //数据域
      struct Linknode *next;    //指针域
  }*LiStack;                    //栈类型定义
  ```

  ![image-20251125154633966](https://gitee.com/Ryokoi/picgo-typora/raw/master/image-20251125154633966.png)

剩下的创、增、删、查、如何判空、判满和单链表类似

### 四、知识总结

![](https://gitee.com/Ryokoi/picgo-typora/raw/master/栈.jpg)